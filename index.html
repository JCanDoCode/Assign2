<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Pizza!</title>
	<link rel="icon" href="./images/pizza.jpg">
	<style>	    
		body {
			height: 100vh;
			width: 100%;
			margin: 0;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}

	    img {
			user-select: none;
	        margin:5px;
	    }
	    img.clickable{
	        cursor:pointer;
	    }
	</style>
</head>
<body>

	<h1>How 2 Pizza!</h1>
	
	<div style="text-align:center;">
	    <table>
	        <tr>
	            <td></td>
	            <td style="text-align:center;">
                    <div><img id="main-image" alt="Main Image"/></div>

                    <!-- you may or may not use this hidden textbox-->
                    <div><input id="current-index" /></div>    
                </td>
	            <td></td>
	        
	        </tr>
	        <tr>
	            <td>
	                <img src="images/first.png" id="first-btn" style="cursor:pointer"/>            
	                <img src="images/prev.png" id="prev-btn" style="cursor:pointer"/>
	            </td>
	            <td>
	                <div id="thumbnail-area">
						
					</div>	        
	            </td>
	            <td>
	                <img src="images/next.png" id="next-btn" style="cursor:pointer"/>            
	                <img src="images/last.png" id="last-btn" style="cursor:pointer"/>
	            </td>
	        </tr>	    
	    </table>       
	</div>
    
	<script>
		// Josel Canlas A01361517 Assignment 2
		let current_index = 0;
		const first_btn = document.querySelector("#first-btn");
		const prev_btn = document.querySelector("prev-btn");
		const next_btn = document.querySelector("#next-btn");
		const last_btn = document.querySelector("#last-btn");

		const first_load = () => {
			set_main_image(0);
			set_thumbnails();
		}
		// loads the const array image_names in the global scope first so that other code blocks can access it:
		const image_name = ["dough", "sauce", "cheese", "beef", "salami"];
		// defines main image const arrow function in the global scope:
		const set_main_image = (index) => {
			// TODO: set the main-image src image based on the passed parameter	    
			// the DOM selects the main image div. Then it applies the source of the main image by: the folder name, "./images/"; the selected index name, image_name[index]; and specifies that it is a main image + file type + file type, "main.png":
			document.querySelector("#main-image").src = "./images/" + image_name[index] + "_main.jpg";
			// updates the thumbnails based on the index selected:
			update_thumbnails(index);
			// updates current index 
			current_index = index;
		}
		// defines thumbnail const arrow function in the global scope:
		const set_thumbnails = () => {
			// TODO: declare a variable for the thumbnail strip html (optional)
			
			// TODO: loop through the global array and build the html
			//       - add an onclick handler to each thumbnail to call set_main_image(index)
			image_name.forEach( (name, index) => {
				// creates an <img> in the html via DOM when new_thumbnail is called:
				const new_thumbnail = document.createElement("img");
				// the DOM selects the main image div. Then it applies the source of the main image by: the folder name, "./images/"; the selected index image name, image_name; and specifies that it is a thumbnail + file type, "thumbnail.png":
				new_thumbnail.className = "clickable";
				new_thumbnail.src = "./images/" + image_name[index] + "_thumbnail.jpg";
				new_thumbnail.addEventListener("click", () => { set_main_image(index); });
				// adds the new_thumb to the thumbnail-area div:
				document.querySelector("#thumbnail-area").appendChild(new_thumbnail);
			})
		} 
	
		const update_thumbnails = (current_index) => {
			const thumbnail = document.querySelectorAll(".clickable");
			thumbnail.forEach((thumbnail_opacity, loop_index) => {
				thumbnail_opacity.style.opacity = (current_index == loop_index) ? 1 : 0.75;
			});
		} 
	
		const set_nav_first = () => {
			// displays first image:
			set_main_image(0);
		}
	
		const set_nav_last = () => {
			set_main_image(4);
			// TODO: navigate to the last image (should work for any size array)
		}
	
		const set_nav_next = () => {
			// TODO: move to the next image, unless at the end in which case show the first image
			
		}
	
		const set_nav_prev = () => {
			// TODO: move to the previous image, unless at the end in which case show the last image
		}	
	
		window.addEventListener("load", first_load);
		first_btn.addEventListener("click", set_nav_first)
		last_btn.addEventListener("click", set_nav_last);
	</script>
</body>
</html>
